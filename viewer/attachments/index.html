<!doctype html>
<!-- Conditional comment for mobile ie7 http://blogs.msdn.com/b/iemobile/ -->
<!-- Appcache Facts http://appcachefacts.info/ -->
<!--[if IEMobile 7 ]>    <html class="no-js iem7" manifest="default.appcache?v=1"> <![endif]-->
<!--[if (gt IEMobile 7)|!(IEMobile)]><!--> <html class="no-js" manifest="default.appcache?v=1"> <!--<![endif]-->

<head>
  <meta charset="utf-8">

  <title></title>
  <meta name="description" content="A Software to analyse #Tag Communitys">
  <meta name="author" content="Nicolas Lehmann">
  
  <!-- Mobile viewport optimization http://goo.gl/b9SaQ -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Home screen icon  Mathias Bynens http://goo.gl/6nVq0 -->
  <!-- For iPhone 4 with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/h/apple-touch-icon.png">
  <!-- For first-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/m/apple-touch-icon.png">
  <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="img/l/apple-touch-icon-precomposed.png">
  <!-- For nokia devices: -->
  <link rel="shortcut icon" href="img/l/apple-touch-icon.png">
  
  <!--iOS web app, deletable if not needed -->
  <!--<meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-startup-image" href="img/l/splash.png">-->
  
  <!-- Mobile IE allows us to activate ClearType technology for smoothing fonts for easy reading -->
  <meta http-equiv="cleartype" content="on">
	
	<!-- more tags for your 'head' to consider https://gist.github.com/849231 -->
  
  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="css/jquery.mobile-1.0b2.min.css" type="text/css" media="screen" charset="utf-8" /> 
  <link rel="stylesheet" href="css/style.css?v=1" type="text/css" media="screen" charset="utf-8"> 
  <link rel="stylesheet" href="css/jquery.mobile.datebox.min.css" type="text/css" media="screen" charset="utf-8" /> 
	<link rel="stylesheet" href="css/leaflet.css" type="text/css" media="screen" charset="utf-8" />
  <link rel="stylesheet" href="css/jqcloud.css" type="text/css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="css/leaflet.ie.css" type="text/css" media="screen" charset="utf-8" /><![endif]-->
	
  <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detects -->
  <script src="js/libs/modernizr-custom.js"></script>
</head>

<body>
  <div data-role="page" >
     <noscript><center><h1>Without Javascript enabled Twapperlyzer will not work.</h1></center></noscript>
  </div>
  
  <!-- JavaScript at the bottom for fast page loading -->

<script type="text/javascript" src="js/libs/jquery-1.6.1.min.js"></script>
<script type="text/javascript">
    $( document ).bind( "mobileinit", function(){ $.mobile.page.prototype.options.degradeInputs.date = 'text'; });	
</script>

  <!-- scripts concatenated and minified via ant build script-->
  <script type="text/javascript" src="js/mylibs/handlebars.1.0.0.beta.3.js"></script> 
  <script src="js/mylibs/leaflet-0.2.1.min.js"></script> 
  <script src="js/mylibs/underscore-min.js"></script>
  <script src="js/mylibs/helper.js"></script> 
  <script src="js/plugins.js"></script> 
  <script src="js/helper.js"></script> 
  <script src="js/visualisations.js"></script> 
  <script src="js/script.js"></script> 
  <script type="text/javascript" src="js/mylibs/highcharts.js"></script>
  <script type="text/javascript" src="js/mylibs/themes/grid.js"></script>
  <script type="text/javascript" src="js/mylibs/modules/exporting.js"></script>
  <script type="text/javascript" src="js/mylibs/jqcloud-0.2.0.js"></script>
  <script type="text/javascript" src="js/mylibs/lawnchair-0.6.1.min.js"></script> 
  <script type="text/javascript" src="js/mylibs/jquery.couch.js"></script> 
  <script type="text/javascript" src="js/mylibs/twapperlyzerApi.js"></script> 
  <script type="text/javascript" src="js/mylibs/jquery.mobile-1.0b2.js"></script> 
  <script type="text/javascript" src="js/mylibs/jquery.mobile.datebox.min.js"></script>
  <!-- end concatenated and minified scripts-->

  <script>
    // iPhone Scale Bug Fix, read this when using http://www.blog.highub.com/mobile-2/a-fix-for-iphone-viewport-scale-bug/
    MBP.scaleFix();
    
    // Media Queries Polyfill https://github.com/shichuan/mobile-html5-boilerplate/wiki/Media-Queries-Polyfill
    
    yepnope({
      test : Modernizr.mq('(min-width)'),
      nope : ['js/libs/respond.min.js']
    });
    
  </script>
  
<script id="page" type="text/html">
  <div data-role="page" id="{{pageId}}" data-url="{{pageId}}" >
    {{> header}}
    {{> content}}
    {{> footer}}
  </div>
</script>

<!--HEADER -->
<script id="normalHeader" type="text/html">
    <div data-role="header">
      <a href="#listArchivesPage" data-icon="home" data-direction="reverse" data-iconpos="notext"  >Home</a>
      <a href="#optionsPage" data-icon='gear' >Options</a>
      <h1>{{pageHeader}}</h1>
    </div>
</script>

<script id="listArchivesHeader" type="text/html">
    <div data-role="header">
      <a href="#optionsPage" class='ui-btn-right' data-icon='gear' >Options</a>
      <h1>{{pageHeader}}</h1>
    </div>
</script>

<script id="optionsHeader" type="text/html">
  <div data-role="header">
    <h1>{{pageHeader}}</h1>
    <a href="#listArchivesPage" data-icon="home" data-direction="reverse" data-iconpos="notext"  >Home</a>
  </div>
</script>

<!--CONTENT -->
<script id="simpleContent" type="text/html">
  <div data-role="content" id="{{containerId}}", style="{{style}}"></div>
</script>

<script id="blockListContent" type="text/html">
  <div data-role="content">
  <div id={{blockId}}  style="{{style}}"></div>
  <h2 class="center-wrapper" >{{listHeader}}</h2>
  <ul data-role="listview" data-filter="true" data-inset="true" id="{{listId}}" orderType="" >
  </div>
</script>

<script id="optionsContent" type="text/html">
  <div data-role="content">
      <form id="optionsForm" action="#" method="get">
        
        <div data-role="fieldcontain">
          <label for="ytkURLField"> Enter YourTapperKeeper URL:</label>
          <input id="ytkURLField" type="text" name="ytkURLField" value="" />
        </div>
        
        <div  data-role="fieldcontain" >
          <label for="ytkURLSelect">or choose from the list:</label>
          <select name="ytkURLSelect" id="ytkURLSelect">
          </select>
        </div>
        
        
        <div data-role="fieldcontain">
          <label for="dataProviderField">Enter data provider URL:</label>
          <input id="dataProviderField" type="text" name="dataProviderField" value="" />
        </div>
        
        <div  data-role="fieldcontain" >
          <label for="dataProviderSelect">or choose from the list:</label>
          <select name="dataProviderSelect" id="dataProviderSelect">
          </select>
        </div>
        
        <button type="submit" >Submit</button>
      </form>

      <button id="clearUserConfigButton" >Clear user config</button>
  </div>
</script>

<script id="listContent" type="text/html">
  <div data-role="content">
    <ul data-role="listview" data-filter="true" id="{{listId}}" orderType="" >
    
    </ul>
  </div>
</script>

<script id="archivePageContent" type="text/html">
  <div data-role="content">
  
    <div class = "ui-bar ui-bar-e" id="archieInfo-{{archive._id}}">
      <center>
        <p>{{archive.archive_info.description}}</p>
        <p>"{{formatEpochTime archive.archive_info.create_time}}"</p>
        <p>total number of tweets = <strong id="currentArchiveCount-{{archive._id}}">{{archive.archive_info.count}}</strong></p>
      </center>

    </div>
    <!--
    <div data-role="fieldcontain" id="downloadSliderBox">
	    <label for="downloadSlider">Analyse Status:</label>
 	    <input type="range" name="slider" id="downloadSlider" value="0" min="0" max="100"  />
    </div>
    -->
    {{>widgetList}}
  </div>
</script>

<!--ELEMETNS -->
<script id="archiveListElements" type="text/html">
  {{#each entry}}
  <li>
    <a href="#page-{{id}}">
      <h3>{{keyword}} </h3>
      <p>{{description}}</p>
    </a>
    <span class="ui-li-count"> {{formatNumber count}} </span>
  </li>
  {{/each}}
</script>

<script id="widgetListTemplate" type="text/html">
    <ul data-role="listview" data-inset="true" id="archiveWidgetsList-{{archive._id}}">
      <li><a href="#showMsgsPage-{{archive._id}}"> Browse Messages</a><span class="ui-li-count">{{archive.messagesSoFar}}</span></li>
      <li><a href="#mapPage-{{archive._id}}"> Show Taged messages on the Map</a><span class="ui-li-count">{{archive.geoMarker.length}}</span></li>
      <li><a href="#archiveLinksPage-{{archive._id}}"> Show the Links </a><span class="ui-li-count">{{archive.urls.length}}</span></li>
      <li><a href="#archiveHashtagsPage-{{archive._id}}"> Show the Hashtags </a><span  class="ui-li-count">{{archive.hashtags.length}}</span></li>
      <li><a href="#archiveMentionsPage-{{archive._id}}"> Show the Mentions </a><span  class="ui-li-count">{{archive.mentions.length}}</span></li>
      <li><a href="#archiveMembersPage-{{archive._id}}"> Members </a><span  class="ui-li-count">{{archive.users.length}}</span></li>    
    </ul>
</script>

    <!-- entry.profile_image_url.replace("normal","bigger") -->
<script id="msgEntryTemplate" type="text/html">
  <li>

    <img src="{{profile_image_url}}"  alt="Avatar {{from_user}}" >
    <h3>{{from_user}}</h3>
    <p>
      <strong>{{{htmlLinksForText text}}}</strong>
    </p>
    <p>{{created_at}} Tweet id <a href="http://twitter.com/#!/{{from_user}}/status/{{id}}" target=\"_blank\">{{id}}}</a></p>
    {{#if geo_coordinates_0}}
    <p>
      <a href = "#mapPage-{{laid}}" msgid="{{msgid}}">
        geo info:{{geo_type}} - lat = {{geo_coordinates_0}} - long = {{geo_coordinates_1}}
      </a>
    </p>
    {{/if}}
  </li>
</script>

<script id="simpleList" type="text/html">
  {{#each entry}}
  <li>
    <h3>{{text}} </h3>
    <span class="ui-li-count"> {{formatNumber weight}} </span>
  </li>
  {{/each}}
</script>

<!--FOOTER -->
<script id="simpleFooter" type="text/html">
  <div data-role="footer">
    <h4>{{footerText}}</h4>
  </div>
</script>

<script id="buttonFooter" type="text/html">
  <div data-role="footer">
    <h4><button type="submit" id="{{footerButtonId}}">{{footerButtonText}}</button></h4>
  </div>
</script>

<script id="buttonLinkFooter" type="text/html">
  <div data-role="footer">
    <h4><a href={{target}} data-role="button">{{footerButtonText}}</a></h4>
  </div>
</script>

<script id="navbarArchiveListFooter" class="nav-archive-list" type="text/html">
  <div data-role="footer" class="nav-archive-list" data-position="fixed">
    <div data-role="navbar" id="{{navbarId}}">
      <ul>
        <li><a href="#" onclick='sortArchiveList("alphabetic");' data-icon="custom" id="alphabeticButton" class="ui-btn-active">Alphabetic </a></li>
        <li><a href="#" onclick='sortArchiveList("size");' data-icon="custom" id="sizeButton" >Archive Size</a></li>
        <li><a href="#" onclick='sortArchiveList("chronologic");'  data-icon="custom" id="chronologicButton" >Chronologic</a></li>
      </ul>
    </div><!-- /navbar -->
  </div><!-- /footer -->
</script>

<script id="navbarMemberFooter"  type="text/html">
  <div data-role="footer"  data-position="fixed">
    <div class="nav-archive-list" data-role="navbar" >
      <ul>
        <li><a href="#" onclick='' class="ui-btn-active">All </a></li>
        <li><a href="#" onclick='' >VIP</a></li>
        <li><a href="#" onclick='' >Mentions</a></li>
        <li><a href="#" onclick='getRTInfo()' >RT</a></li>
        <li><a href="#" onclick='getQuestionerInfo()' >Questioner</a></li>
      </ul>
    </div><!-- /navbar -->
  </div><!-- /footer -->
</script>

</body>
</html>
