<!doctype html>
<!-- Conditional comment for mobile ie7 http://blogs.msdn.com/b/iemobile/ -->
<!-- Appcache Facts http://appcachefacts.info/ -->
<!--[if IEMobile 7 ]>    <html class="no-js iem7" manifest="default.appcache?v=1"> <![endif]-->
<!--[if (gt IEMobile 7)|!(IEMobile)]><!--> <html class="no-js" manifest="default.appcache?v=1"> <!--<![endif]-->

<head>
  <meta charset="utf-8">

  <title></title>
  <meta name="description" content="A Software to analyse #Tag Communitys">
  <meta name="author" content="Nicolas Lehmann">
  
  <!-- Mobile viewport optimization http://goo.gl/b9SaQ -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Home screen icon  Mathias Bynens http://goo.gl/6nVq0 -->
  <!-- For iPhone 4 with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/h/apple-touch-icon.png">
  <!-- For first-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/m/apple-touch-icon.png">
  <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="img/l/apple-touch-icon-precomposed.png">
  <!-- For nokia devices: -->
  <link rel="shortcut icon" href="img/l/apple-touch-icon.png">
  
  <!--iOS web app, deletable if not needed -->
  <!--<meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-startup-image" href="img/l/splash.png">-->
  
  <!-- Mobile IE allows us to activate ClearType technology for smoothing fonts for easy reading -->
  <meta http-equiv="cleartype" content="on">
	
	<!-- more tags for your 'head' to consider https://gist.github.com/849231 -->
  
  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="css/jquery.mobile-1.0b3.min.css" type="text/css" media="screen" charset="utf-8" /> 
  <link rel="stylesheet" href="css/style.css?v=1" type="text/css" media="screen" charset="utf-8"> 
  <!-- <link rel="stylesheet" href="css/jquery.mobile.datebox-1.0b1.min.css" type="text/css" media="screen" charset="utf-8" />  -->
  <link rel="stylesheet" href="css/jquery.mobile.simpledialog.min.css" type="text/css" media="screen" charset="utf-8" />
  <link rel="stylesheet" href="css/leaflet.css" type="text/css" media="screen" charset="utf-8" />
  <link rel="stylesheet" href="css/jqcloud.css" type="text/css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="css/leaflet.ie.css" type="text/css" media="screen" charset="utf-8" /><![endif]-->
	
  <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detects -->
  <script src="js/libs/modernizr-custom.js"></script>
</head>

<body>
  <div data-role="page" data-url="loadPage" id="loadPage">
     <noscript><center><h1>Without Javascript enabled Twapperlyzer will not work.</h1></center></noscript>
  </div>

  <!-- JavaScript at the bottom for fast page loading -->

  <script type="text/javascript" src="js/libs/jquery-1.6.4.min.js"></script>
  <!-- scripts concatenated and minified via ant build script-->
  <script type="text/javascript" src="js/mylibs/handlebars.1.0.0.beta.3.js"></script> 
  <script src="js/mylibs/leaflet-0.2.1.min.js"></script> 
  <script src="js/mylibs/underscore-min.js"></script>
  <script type="text/javascript" src="js/mylibs/jquery.timeago.js"></script> 
  <script type="text/javascript" src="js/mylibs/highcharts.js"></script>
  <script type="text/javascript" src="js/mylibs/themes/grid.js"></script>
  <script type="text/javascript" src="js/mylibs/modules/exporting.js"></script>
  <script type="text/javascript" src="js/mylibs/jqcloud-0.2.0.js"></script>
  <script type="text/javascript" src="js/mylibs/lawnchair-0.6.1.min.js"></script> 
  <script type="text/javascript" src="js/mylibs/jquery.couch.js"></script> 
  <script type="text/javascript" src="js/mylibs/twapperlyzerApi.js"></script> 
  <script type="text/javascript" src="js/mylibs/jquery.mobile-1.0b3.min.js"></script> 
  <script src="js/mylibs/helper.js"></script> 
  <script src="js/plugins.js"></script> 
  <script src="js/helper.js"></script> 
  <script src="js/visualisations.js"></script> 
  <script src="js/script.js"></script> 

  <script type="text/javascript" src="js/mylibs/jquery.mobile.simpledialog.min.js"></script>
  <!-- end concatenated and minified scripts-->
  <!--<script type="text/javascript" src="js/mylibs/jquery.mobile.datebox-1.0b1.min.js"></script>-->

  <script>
    $.mobile.pushStateEnabled = false;
    // iPhone Scale Bug Fix, read this when using http://www.blog.highub.com/mobile-2/a-fix-for-iphone-viewport-scale-bug/
    MBP.scaleFix();
    
    // Media Queries Polyfill https://github.com/shichuan/mobile-html5-boilerplate/wiki/Media-Queries-Polyfill
    
    yepnope({
      test : Modernizr.mq('(min-width)'),
      nope : ['js/libs/respond.min.js']
    });
    
  </script>
  
<script id="page" type="text/html">
  <div data-role="page" id="{{pageId}}" data-url="{{pageId}}" >
    {{> header}}
    {{> content}}
    {{> footer}}
  </div>
</script>

<script id="dialogPage" type="text/html">
<div data-role="page" id = "{{dialogPageId}}" data-url="{{dialogPageId}}>
  <div data-role="header" data-position="inline">
    <h1>{{dialogHeader}}</h1>
  </div>
{{> content}}
</div>
</script>

<!--HEADER -->
<script id="normalHeader" type="text/html">
    <div data-role="header">
      <a href="#listArchivesPage" data-icon="home" data-direction="reverse" data-iconpos="notext"  >Home</a>
      <a href="#optionsPage" data-icon='gear' >Options</a>
      <h1>{{pageHeader}}</h1>
    </div>
</script>

<script id="listArchivesHeader" type="text/html">
    <div data-role="header">
      <a href="#optionsPage" class='ui-btn-right' data-icon='gear' >Options</a>
      <h1>{{pageHeader}}</h1>
    </div>
</script>

<script id="optionsHeader" type="text/html">
  <div data-role="header">
    <h1>{{pageHeader}}</h1>
    <a href="#listArchivesPage" data-icon="home" data-direction="reverse" data-iconpos="notext"  >Home</a>
  </div>
</script>

<!--CONTENT -->
<script id="simpleContent" type="text/html">
  <div data-role="content" class="bg" id="{{containerId}}", style="{{style}}"></div>
</script>

<script id="blockListContent" type="text/html">
  <div data-role="content" class="bg">
  <div id={{blockId}}  style="{{style}}"></div>
  <h2 class="center-wrapper" >{{listHeader}}</h2>
  <ul data-role="listview" data-filter="true" data-inset="true" id="{{listId}}" orderType="" >
  </div>
</script>



<script id="optionsContent" type="text/html">
  <div data-role="content" class="bg">
      <form id="optionsForm" action="#" method="get">
        
        <div data-role="fieldcontain">
          <label for="ytkURLField"> Enter YourTapperKeeper URL:</label>
          <input id="ytkURLField" type="text" name="ytkURLField" value="" />
        </div>
        
        <div  data-role="fieldcontain" >
          <label for="ytkURLSelect">or choose from the list:</label>
          <select name="ytkURLSelect" id="ytkURLSelect">
          </select>
        </div>
        
        
        <div data-role="fieldcontain">
          <label for="dataProviderField">Enter data provider URL:</label>
          <input id="dataProviderField" type="text" name="dataProviderField" value="" />
        </div>
        
        <div  data-role="fieldcontain" >
          <label for="dataProviderSelect">or choose from the list:</label>
          <select name="dataProviderSelect" id="dataProviderSelect">
          </select>
        </div>
        
        <button type="submit" >Submit</button>
      </form>

      <button id="clearUserConfigButton" >Clear user config</button>
  </div>
</script>

<script id="listContent" type="text/html">
  <div data-role="content" class="bg">
    <ul data-role="listview" data-filter="true" id="{{listId}}" orderType="" >
    
    </ul>
  </div>
</script>

<script id="archivePageContent" type="text/html">
  <div data-role="content" class="bg">
    <div class = "ui-bar-b ui-corner-top ui-corner-bottom ui-shadow" id="archieInfo-{{archive._id}}">
      <center>
        <p>{{archive.archive_info.description}}</p>
        <p>Collecting since {{formatEpochTime archive.archive_info.create_time}}</p>
        <p>Total number of tweets = <strong id="currentArchiveCount-{{archive._id}}">{{archive.archive_info.count}}</strong></p>
        <p id="analyseProgress-{{archive._id}}">updating archive <progress  ></progress></p>
      </center>
    </div>
    {{>widgetList}}
  </div>
</script>

<!--ELEMETNS -->
<script id="archiveListElements" type="text/html">
  {{#each entry}}
  <li>
    <a href="#page-{{id}}">
      <h3>{{keyword}} </h3>
      <p>{{description}}</p>
    </a>
    <span class="ui-li-count"> {{formatNumber count}} </span>
  </li>
  {{/each}}
</script>

<script id="widgetListTemplate" type="text/html">
  
    <ul data-role="listview" data-inset="true" id="archiveWidgetsList-{{archive._id}}">
      <li data-role="list-divider"> Contend </li>
      <li>
        <a href="#archiveHashtagsPage-{{archive._id}}"> 
        <h3>Hashtags</h3> 
        <p>Show all hashtags used in this archive </p> 
        </a>
      </li>
      <li>
        <a href="#archiveLinksPage-{{archive._id}}"> 
        <h3>Urls</h3>
        <p> Shows the expanded urls</p>
        </a>
      </li>
      <li>
        <a href="#showMsgsPage-{{archive._id}}">
          <h3>Messages</h3>
          <p>Browse the messages in anti-chronologic order</p>
        </a>
      </li>
        
      <li data-role="list-divider"> Member </li>
      <li>
        <a href="#archiveMentionsPage-{{archive._id}}"> 
        <h3>Mentions</h3> 
        <p>Show the user mentioned in this archive </p>
        </a>
      </li>
      <!-- <li><a href="#archiveMembersPage-{{archive._id}}"> Show the Kuchen </a></li> -->

      <li data-role="list-divider"> Geo Informations </li>
      <li>
        <a href="#mapPage-{{archive._id}}" >
          <h3>Map</h3> 
          <p>Show Geo tagged messages on a map</p>
        </a>
      </li>
    </ul>
</script>

    <!-- entry.profile_image_url.replace("normal","bigger") -->
<script id="msgEntryTemplate" type="text/html">
  <li>
    <span class="rounded-img2" style="background: url({{profile_image_url}}) no-repeat center center; width: 48px; height: 48px;">
      <img src="{{profile_image_url}}" style="opacity: 0;" alt="Avatar {{from_user}}"/> 
    </span> 
    <h3 >{{from_user}}</h3>
    <p>
      <strong>{{{htmlLinksForText text}}}</strong>
    </p>
    <p>{{created_at}} Tweet id <a href="http://twitter.com/#!/{{from_user}}/status/{{id}}" target=\"_blank\">{{id}}}</a></p>
    {{#if geo_coordinates_0}}
    <p>
      <a href = "#mapPageForSingleUser?msgid={{msgid}}">
        geo info:{{geo_type}} - lat = {{geo_coordinates_0}} - long = {{geo_coordinates_1}}
      </a>
    </p>
    {{/if}}
  </li>
</script>

<script id="simpleList" type="text/html">
  {{#each entry}}
  <li>
    <h3>{{text}} </h3>
    <span class="ui-li-count"> {{formatNumber weight}} </span>
  </li>
  {{/each}}
</script>

<script id="simpleDialog" type="text/html">
  <div style=' padding:7px;' >
    <h2>{{dialogHeader}}</h2>
    {{dialogText}}
  </div>
<a data-role="button" data-transition="fade" href="{{target}}">Close</a>
</script>

<script id="aboutContent" type="text/html">
<div data-role="content" class="bg" >
  <div class="center-wrapper"> <img src="img/logo3-withAspect.svg" alt="logo" ></div>

  <p>This project was created at the <a href="http://ddi.uni-paderborn.de/en" target="_blank" >DDI</a> 
  of the <a href="http://www.uni-paderborn.de/en/" target="_blank" >University of Paderborn</a>. 
  The aim is to anlayse <a href="http://twitter.com" target="_blank" >Twitter</a> messages 
  archived by a instance of <a href="http://code.google.com/p/yourtwapperkeeper/" target="_blank" >YourTwapperkeeper</a>.
  </p>
  <p> It is split into two functional modules the dataprovider and the viewer. </p>
  <ul>
    <li>The dataprovider downloads the messages from a YourTwapperkeeper 
    instance and gather additional information from other sources. Afterwards it aggregate 
    the data and save it into a <a href="http://couchdb.org" target="_blank" >couchDB</a> instance. More information about the dataprovider you find at the <a href="http://{{dataproviderUrl}}" target="_blank" >API documentation</a></li> 
    <li>The viewer is a <a href="http://couchapp.org" target="_blank" >couchapp</a> that allow you to replicate to your own Couchdb. This enables you to view all analysis that don't require additional data from the Internet</li>
  </ul>  
  <p> For this twapperkeeper instance is <a href="mailto:{{adminEmail}}?subject=twapperlyzer%20request">{{adminName}}</a> responsible.
</div> 

</script>


<!--FOOTER -->
<script id="simpleFooter" type="text/html">
  <div data-role="footer">
    <h4>{{footerText}}</h4>
  </div>
</script>

<script id="buttonFooter" type="text/html">
  <div data-role="footer">
    <h4><button type="submit" id="{{footerButtonId}}">{{footerButtonText}}</button></h4>
  </div>
</script>

<script id="buttonLinkFooter" type="text/html">
  <div data-role="footer">
    <h4><a href={{target}} data-role="button">{{footerButtonText}}</a></h4>
  </div>
</script>

<script id="navbarArchiveListFooter" class="nav-archive-list" type="text/html">
  <div data-role="footer" class="nav-archive-list" data-position="fixed">
    <div data-role="navbar" id="{{navbarId}}">
      <ul>
        <li><a href="#" onclick='sortArchiveList("alphabetic");' data-icon="custom" id="alphabeticButton" class="ui-btn-active">Alphabetic </a></li>
        <li><a href="#" onclick='sortArchiveList("size");' data-icon="custom" id="sizeButton" >Archive Size</a></li>
        <li><a href="#" onclick='sortArchiveList("chronologic");'  data-icon="custom" id="chronologicButton" >Chronologic</a></li>
      </ul>
    </div><!-- /navbar -->
  </div><!-- /footer -->
</script>

<script id="navbarMemberFooter"  type="text/html">
  <div data-role="footer"  data-position="fixed">
    <div class="nav-archive-list" data-role="navbar" >
      <ul>
        <li><a href="#" onclick='' class="ui-btn-active">All </a></li>
        <li><a href="#" onclick='' >VIP</a></li>
        <li><a href="#" onclick='' >Mentions</a></li>
        <li><a href="#" onclick='getRTInfo()' >RT</a></li>
        <li><a href="#" onclick='getQuestionerInfo()' >Questioner</a></li>
      </ul>
    </div><!-- /navbar -->
  </div><!-- /footer -->
</script>

</body>
</html>
